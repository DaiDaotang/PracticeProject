<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>写日志！</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="layui/css/layui.css" media="all">

    <style type="text/css">
        .layui-form-select dl dd:hover {
            background-color: #1E9FFF;
            color: #1E9FFF
        }
    </style>
</head>
<body id="body_whole">
    <form class="layui-form" action="" lay-filter="login_info" style="margin: 20px;">
        <div class="layui-form-item" style="width:auto; position:relative;right:20px;">
            <label class="layui-form-label">项目名称</label>
            <div class="layui-input-block">
                <input type="text" required lay-verify="required" name="new_item_name" lay-filter="new_item_name" id="new_item_name" autocomplete="off" placeholder="请输入项目名称" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item" style="width:auto; position:relative;right:20px;">
            <label class="layui-form-label">类型</label>
            <div class="layui-input-block">
                <input type="text" required lay-verify="required" name="new_item_type" lay-filter="new_item_type" id="new_item_type" autocomplete="off" placeholder="请输入项目类型" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item" style="width:auto; position:relative;right:20px;">
            <label class="layui-form-label">项目概述</label>
            <div class="layui-input-block">
                <textarea name="new_item_introduce" required lay-verify="required" lay-filter="new_item_introduce" id="new_item_introduce" placeholder="概述..." autocomplete="off" class="layui-textarea"></textarea>
            </div>
        </div>
    </form>

    <script src="layui/layui.js" charset="utf-8"></script>
    <script>
        //获取传参
        function GetRequest() {
            var url = location.search; //获取url中"?"符后的字串
            var theRequest = new Object();
            if (url.indexOf("?") != -1) {
                var str = url.substr(1);
                strs = str.split("&");
                for (var i = 0; i < strs.length; i++) {
                    theRequest[strs[i].split("=")[0]] = decodeURIComponent(strs[i].split("=")[1]);
                }
            }
            return theRequest;
        }
        var t_param = GetRequest();
        console.log(t_param)

        var user_id = parseInt(t_param[`user_id`])
            , user_authority = t_param[`user_authority`];

        //区
        layui.use(['form', 'jquery', 'layer', 'rate', 'table'], function () {
            var form = layui.form
                , $ = layui.jquery
                , layer = layui.layer
                , rate = layui.rate
                , table = layui.table;

            //监听input
            document.getElementById('new_item_name').onchange = function () {
                console.log(document.getElementById('new_item_name').value)
                window.localStorage.new_item_name = document.getElementById('new_item_name').value
            };
            document.getElementById('new_item_type').onchange = function () {
                console.log(document.getElementById('new_item_type').value)
                window.localStorage.new_item_type = document.getElementById('new_item_type').value
            };
            document.getElementById('new_item_introduce').onchange = function () {
                console.log(document.getElementById('new_item_introduce').value)
                window.localStorage.new_item_introduce = document.getElementById('new_item_introduce').value
            };
            document.getElementById('new_item_base_content').onchange = function () {
                console.log(document.getElementById('new_item_base_content').value)
                window.localStorage.new_item_base_content = document.getElementById('new_item_base_content').value
            };
            document.getElementById('new_item_extend_content').onchange = function () {
                console.log(document.getElementById('new_item_extend_content').value)
                window.localStorage.new_item_extend_content = document.getElementById('new_item_extend_content').value
            };
            document.getElementById('new_item_advance_content').onchange = function () {
                console.log(document.getElementById('new_item_advance_content').value)
                window.localStorage.new_item_advance_content = document.getElementById('new_item_advance_content').value
            };
            document.getElementById('new_item_name').onchange = function () {
                console.log(document.getElementById('new_item_name').value)
                window.localStorage.new_item_name = document.getElementById('new_item_name').value
            };
        });
    </script>
</body>
</html>