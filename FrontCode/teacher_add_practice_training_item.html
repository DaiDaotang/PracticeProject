<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>添加项目页面</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="layui/css/layui.css" media="all">

    <style type="text/css">
        .layui-form-select dl dd:hover {
            background-color: #1E9FFF;
            color: #d4dadb
        }
    </style>
</head>
<body id="body_whole">

    <ul class="layui-nav" style="position:fixed; width:100%; right:0px;">
        <li class="layui-nav-item" lay-unselect="" style="position:absolute; right:30px;" id="me">
            <a href="javascript:;" style="font-size:28px; color:#000; "><img src="./img/defaultHead.jpg" class="layui-nav-img" style="width: 28px; height: 28px;">Me</a>
            <dl class="layui-nav-child">
                <dd><a id="change_info_a" href="">修改信息</a></dd>
                <dd><a id="safety_info_a" href="safety_info.html">安全管理</a></dd>
                <dd><a id="quit_a" href="login.html">退出登录</a></dd>
            </dl>
        </li>
    </ul>

    <ins class="adsbygoogle" style="display:inline-block;width:970px; height: 0;" data-ad-client="ca-pub-6111334333458862" data-ad-slot="3820120620"></ins>

    <div style="width: auto; height: 100%; margin: 50px 150px 50px 150px;">
        <fieldset class="layui-elem-field layui-field-title" style="margin-top: 80px; margin-bottom: 50px;">
            <legend style="font-size:32px;">添加项目</legend>
        </fieldset>

        <div style="width:auto; height:auto; margin: 20px 50px;">
            <div class="layui-row" style="height:100px;">
                <div class="layui-col-md8" style="height:100px;">
                    <div class="grid-demo grid-demo-bg1" style="height:auto; margin: 20px 0 20px 20px;">
                        <p style="font-size:30px; margin: 0 0 0 20px;">实训名称：<span id="pt_name"></span></p>
                    </div>
                </div>
                <div class="layui-col-md4" style="height:100px;">
                    <div class="grid-demo grid-demo-bg1" style="height:auto; margin: 20px 0 20px 20px;">
                        <p style="font-size:20px;">主办学校：<span id="school_name"></span></p>
                        <p style="font-size:20px;">承包公司：<span id="company_name"></span></p>
                    </div>
                </div>
            </div>
        </div>

        <div style="width:auto; height:auto; margin: 20px 50px; border:1px solid black;">
            <table class="layui-hide" id="item_table" lay-filter="item_table"></table>
        </div>
    </div>

    <script src="layui/layui.js" charset="utf-8"></script>
    <script type="text/html" id="bar_change_delete">
        <a class="layui-btn layui-btn-xs" lay-event="edit">详情</a>
        <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
        <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
    </script>
    <script>
        //变量
        var teacher_id = "000"
            , teacher_school_id = "000"
            , teacher_school_name = "武汉大学"
            , teacher_company_id = "000"
            , teacher_company_name = "爱学记公司"
            , hd_img = ""
            , pt_id = "000"
            , pt_name = "Holiday Practice 2019"
            , pt_school_id = "000"
            , pt_school_name = "武汉大学"
            , pt_company_id = "000"
            , pt_company_name = "爱学记公司";

        var GetExistedItemURL = "./json/item_existed_local.json"
            , QuitURL = "login.html"
            , ChangeInfoURL = "login.html"
            , SafetyURL = "safety_info.html";

        //本地json文件
        var param_item_existed = {
            elem: '#item_table'
            , url: GetExistedItemURL
            , title: '项目列表'
            , toolbar: '#toolbar_kid'
            , contentType: 'application/json'
            , method: "POST"
            , width: 1100
            , where: {
                "reqId": teacher_id
            }
            , deal: function (res) {
                return {
                    code: 0
                    , msg: ""
                    , count: 1000
                    , data: res.resData
                }
            }
            , cols: [[
                { type: 'numbers' }
                , { field: 'projectId', width: 150, title: '项目ID', hide: true }
                , { field: 'projectName', width: 150, title: '项目名称' }
                , { field: 'projectType', width: 150, title: '项目类型' }
                , { field: 'projectDifficulty', width: 150, title: '项目难度', sort: true }
                , { field: 'projectIntroduce', title: '项目概述'}
                , { field: 'projectBaseContent', title: '基本功能', hide: true  }
                , { field: 'projectExtendContent', title: '扩展功能', hide: true  }
                , { field: 'projectAdvanceContent', title: '高级功能', hide: true  }
                , { fixed: 'right', title: '操作', toolbar: '#bar_change_delete', width: 110 }
            ]]
        }

        //测试变量
        var test_style = "1px solid #000";

        //form区 + 大区
        layui.use(['form', 'jquery', 'layer'], function () {
            var form = layui.form
                , $ = layui.jquery
                , layer = layui.layer;
        });

        //element区
        layui.use('element', function () {
            var element = layui.element; //导航的hover效果、二级菜单等功能，需要依赖element模块

            //监听导航点击
            element.on('nav(me)', function (elem) {
                console.log(elem)
                layer.msg(elem.text());
            });
        });

        //table区
        layui.use('table', function () {
            var table = layui.table;

            table.render(param_item_existed);
        })

        //基础区
        document.getElementById("school_name").innerText = pt_school_name;
        document.getElementById("company_name").innerText = pt_company_name;
        document.getElementById("pt_name").innerText = pt_name;

        document.getElementById("change_info_a").href = ChangeInfoURL;
        document.getElementById("safety_info_a").href = SafetyURL;
        document.getElementById("quit_a").href = QuitURL;
    </script>
</body>
</html>